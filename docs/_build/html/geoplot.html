
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>geoplot package &#8212; geoplot 0.3.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          geoplot</a>
        <span class="navbar-text navbar-version pull-left"><b>0.3.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="guides.html">Guides</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">geoplot package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-geoplot.crs">geoplot.crs module</a></li>
<li><a class="reference internal" href="#module-geoplot.geoplot">geoplot.geoplot module</a></li>
<li><a class="reference internal" href="#module-geoplot.quad">geoplot.quad module</a></li>
<li><a class="reference internal" href="#module-geoplot">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/geoplot.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="geoplot-package">
<h1>geoplot package<a class="headerlink" href="#geoplot-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-geoplot.crs">
<span id="geoplot-crs-module"></span><h2>geoplot.crs module<a class="headerlink" href="#module-geoplot.crs" title="Permalink to this headline">¶</a></h2>
<p>This module defines the <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> coordinate reference system classes, wrappers on
<code class="docutils literal notranslate"><span class="pre">cartopy.crs</span></code> objects meant to be used as parameters to the <code class="docutils literal notranslate"><span class="pre">projection</span></code> parameter of all
front-end <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> outputs. For the list of Cartopy CRS objects this module derives from,
refer to <a class="reference external" href="http://scitools.org.uk/cartopy/docs/latest/crs/projections.html">http://scitools.org.uk/cartopy/docs/latest/crs/projections.html</a>.</p>
<dl class="class">
<dt id="geoplot.crs.AlbersEqualArea">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">AlbersEqualArea</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.AlbersEqualArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.AzimuthalEquidistant">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">AzimuthalEquidistant</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.AzimuthalEquidistant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Base">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Base</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate instances of <code class="docutils literal notranslate"><span class="pre">cartopy.crs</span></code>.*name* where <em>name</em> matches the instance’s class name.</p>
<p><cite>load</cite> : Return a Cartopy CRS initialized with defaults from the <cite>centerings</cite> dictionary,
overridden by initialization parameters.</p>
<p><cite>_as_mpl_axes</cite> : Return the result of calling cartopy’s <code class="docutils literal notranslate"><span class="pre">_as_mpl_axes</span></code> for <cite>self.load</cite>
called with empty <cite>df</cite> and <cite>centerings</cite>.</p>
<dl class="method">
<dt id="geoplot.crs.Base.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">centerings</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Base.load" title="Permalink to this definition">¶</a></dt>
<dd><p>A moderately mind-bendy meta-method which abstracts the internals of individual
projections’ load procedures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>proj</strong> (<em>geoplot.crs object instance</em>) – A disguised reference to <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The GeoDataFrame which has been passed as input to the plotter at the top level.
This data is needed to calculate reasonable centering variables in cases in which the
user does not already provide them; which is, incidentally, the reason behind all of
this funny twice-instantiation loading in the first place.</p></li>
<li><p><strong>centerings</strong> (<em>dct</em>) – <p>A dictionary containing names and centering methods. Certain projections have certain
centering parameters whilst others lack them. For example, the geospatial projection
contains both <code class="docutils literal notranslate"><span class="pre">central_longitude</span></code> and <code class="docutils literal notranslate"><span class="pre">central_latitude</span></code> instance parameter, which
together control the center of the plot, while the North Pole Stereo projection has
only a <code class="docutils literal notranslate"><span class="pre">central_longitude</span></code> instance parameter, implying that latitude is fixed (as
indeed it is, as this projection is centered on the North Pole!).</p>
<p>A top-level centerings method is provided in each of the <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> top-level plot
functions; each of the projection wrapper classes defined here in turn selects the
functions from this list relevent to this particular instance and passes them to
the <code class="docutils literal notranslate"><span class="pre">_generic_load</span></code> method here.</p>
<p>We then in turn execute these functions to get defaults for our <code class="docutils literal notranslate"><span class="pre">df</span></code> and pass them
off to our output <code class="docutils literal notranslate"><span class="pre">cartopy.crs</span></code> instance.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>crs</strong> – Returns a <code class="docutils literal notranslate"><span class="pre">cartopy.crs</span></code> object instance whose appropriate instance variables have
been set to reasonable defaults wherever not already provided by the user.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">cartopy.crs</span></code> object instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geoplot.crs.EuroPP">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">EuroPP</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.EuroPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Filtering">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Filtering</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
<p>CRS that <cite>load`s with `centering</cite> restricted to keys in <cite>self.filter_</cite>.</p>
<dl class="method">
<dt id="geoplot.crs.Filtering.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">centerings</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Filtering.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <cite>load</cite> method with <cite>centerings</cite> filtered to keys in <cite>self.filter_</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Geostationary">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Geostationary</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Geostationary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Gnomonic">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Gnomonic</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Gnomonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LatitudeCentering" title="geoplot.crs.LatitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LatitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.InterruptedGoodeHomolosine">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">InterruptedGoodeHomolosine</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.InterruptedGoodeHomolosine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.LambertAzimuthalEqualArea">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">LambertAzimuthalEqualArea</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.LambertAzimuthalEqualArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.LambertConformal">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">LambertConformal</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.LambertConformal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.LambertCylindrical">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">LambertCylindrical</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.LambertCylindrical" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.LatitudeCentering">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">LatitudeCentering</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.LatitudeCentering" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Filtering" title="geoplot.crs.Filtering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Filtering</span></code></a></p>
<p>For a CRS that centers by latitude.</p>
<dl class="attribute">
<dt id="geoplot.crs.LatitudeCentering.filter_">
<code class="sig-name descname">filter_</code><em class="property"> = {'central_latitude'}</em><a class="headerlink" href="#geoplot.crs.LatitudeCentering.filter_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geoplot.crs.LongitudeCentering">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">LongitudeCentering</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.LongitudeCentering" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Filtering" title="geoplot.crs.Filtering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Filtering</span></code></a></p>
<p>Form a CRS that centers by longitude.</p>
<dl class="attribute">
<dt id="geoplot.crs.LongitudeCentering.filter_">
<code class="sig-name descname">filter_</code><em class="property"> = {'central_longitude'}</em><a class="headerlink" href="#geoplot.crs.LongitudeCentering.filter_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Mercator">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Mercator</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Mercator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Miller">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Miller</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Miller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Mollweide">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Mollweide</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Mollweide" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.NorthPolarStereo">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">NorthPolarStereo</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.NorthPolarStereo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.OSGB">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">OSGB</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.OSGB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.OSNI">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">OSNI</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.OSNI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Orthographic">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Orthographic</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Orthographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.PlateCarree">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">PlateCarree</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.PlateCarree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Robinson">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Robinson</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Robinson" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Sinusoidal">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Sinusoidal</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Sinusoidal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.SouthPolarStereo">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">SouthPolarStereo</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.SouthPolarStereo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.LongitudeCentering" title="geoplot.crs.LongitudeCentering"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.LongitudeCentering</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.Stereographic">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">Stereographic</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.Stereographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.TransverseMercator">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">TransverseMercator</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.TransverseMercator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="geoplot.crs.UTM">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.crs.</code><code class="sig-name descname">UTM</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.crs.UTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#geoplot.crs.Base" title="geoplot.crs.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">geoplot.crs.Base</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-geoplot.geoplot">
<span id="geoplot-geoplot-module"></span><h2>geoplot.geoplot module<a class="headerlink" href="#module-geoplot.geoplot" title="Permalink to this headline">¶</a></h2>
<p>This module defines the majority of geoplot functions, including all plot types.</p>
<dl class="function">
<dt id="geoplot.geoplot.aggplot">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">aggplot</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">hue=None</em>, <em class="sig-param">by=None</em>, <em class="sig-param">geometry=None</em>, <em class="sig-param">nmax=None</em>, <em class="sig-param">nmin=None</em>, <em class="sig-param">nsig=0</em>, <em class="sig-param">agg=&lt;function mean&gt;</em>, <em class="sig-param">cmap='viridis'</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">legend=True</em>, <em class="sig-param">legend_kwargs=None</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.aggplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Self-aggregating quadtree plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p></li>
<li><p><strong>hue</strong> (<em>None</em><em>, </em><em>Series</em><em>, </em><em>GeoSeries</em><em>, </em><em>iterable</em><em>, or </em><em>str</em>) – Applies a colormap to the output shapes. Required.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib color</em><em>, </em><em>optional</em>) – The <a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a> to be used.</p></li>
<li><p><strong>by</strong> (<em>iterable</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – If specified, this data grouping will be used to aggregate points into <a class="reference external" href="https://en.wikipedia.org/wiki/Convex_hull">convex hulls</a> or, if <code class="docutils literal notranslate"><span class="pre">geometry</span></code> is also specified, into polygons. If left
unspecified the data will be aggregated using a <a class="reference external" href="https://en.wikipedia.org/wiki/Quadtree">quadtree</a>.</p></li>
<li><p><strong>geometry</strong> (<em>GeoDataFrame</em><em> or </em><em>GeoSeries</em><em>, </em><em>optional</em>) – A list of polygons to be used for spatial aggregation. Optional. See <code class="docutils literal notranslate"><span class="pre">by</span></code>.</p></li>
<li><p><strong>nmax</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Ignored if not plotting a quadtree. Otherwise, controls the maximum number of observations in a quadrangle.
If left unspecified, there is no maximum size.</p></li>
<li><p><strong>nmin</strong> (<em>int</em><em>, </em><em>optional</em>) – Ignored if not plotting a quadtree. Otherwise, controls the minimum number of observations in a quadrangle.
If left unspecified, there is no minimum size.</p></li>
<li><p><strong>nsig</strong> (<em>int</em><em>, </em><em>optional</em>) – Ignored if not plotting a quadtree. Otherwise, controls the minimum number of observations in a quadrangle
deemed significant. Insignificant quadrangles are removed from the plot. Defaults to 0 (empty patches).</p></li>
<li><p><strong>agg</strong> (<em>function</em><em>, </em><em>optional</em>) – The aggregation func used for the colormap. Defaults to <code class="docutils literal notranslate"><span class="pre">np.mean</span></code>.</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Values below this level will be colored the same threshold value. Defaults to the dataset minimum.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Values above this level will be colored the same threshold value. Defaults to the dataset maximum.</p></li>
<li><p><strong>legend</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a legend.</p></li>
<li><p><strong>legend_values</strong> (<em>list</em><em>, </em><em>optional</em>) – The values to use in the legend. Defaults to equal intervals. For more information see <a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p></li>
<li><p><strong>legend_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The names to use in the legend. Defaults to the variable values. For more information see <a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments to be passed to <a class="reference external" href="http://matplotlib.org/users/legend_guide.html">the underlying legend</a>.</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance. Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon patches</a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>This plot type accepts any geometry, including mixtures of polygons and points, averages the value of a certain
data parameter at their centroids, and plots the result, using a colormap is the visual variable.</p>
<p>For the purposes of comparison, this library’s <code class="docutils literal notranslate"><span class="pre">choropleth</span></code> function takes some sort of data as input,
polygons as geospatial context, and combines themselves into a colorful map. This is useful if, for example,
you have data on the amount of crimes committed per neighborhood, and you want to plot that.</p>
<p>But suppose your original dataset came in terms of individual observations - instead of “n collisions happened
in this neighborhood”, you have “one collision occured at this specific coordinate at this specific date”.
This is obviously more useful data - it can be made to do more things - but in order to generate the same map,
you will first have to do all of the work of geolocating your points to neighborhoods (not trivial),
then aggregating them (by, in this case, taking a count).</p>
<p><code class="docutils literal notranslate"><span class="pre">aggplot</span></code> handles this work for you. It takes input in the form of observations, and outputs as useful as
possible a visualization of their “regional” statistics. What a “region” corresponds to depends on how much
geospatial information you can provide.</p>
<p>If you can’t provide <em>any</em> geospatial context, <code class="docutils literal notranslate"><span class="pre">aggplot</span></code> will output what’s known as a quadtree: it will break
your data down into recursive squares, and use them to aggregate the data. This is a very experimental format,
is very fiddly to make, and has not yet been optimized for speed; but it provides a useful baseline which
requires no additional work and can be used to expose interesting geospatial correlations right away. And,
if you have enough observations, it can be <a class="reference external" href="../figures/aggplot/aggplot-initial.png">a pretty good approximation</a> (collisions in New York City pictured).</p>
<p>Our first few examples are of just such figures. A simple <code class="docutils literal notranslate"><span class="pre">aggplot</span></code> quadtree can be generated with just a
dataset, a data column of interest, and, optionally, a projection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="kn">as</span> <span class="nn">gplt</span>
<span class="kn">import</span> <span class="nn">geoplot.crs</span> <span class="kn">as</span> <span class="nn">gcrs</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">aggplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;LATDEP&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/aggplot-initial.png" src="_images/aggplot-initial.png" />
<p>To get the best output, you often need to tweak the <code class="docutils literal notranslate"><span class="pre">nmin</span></code> and <code class="docutils literal notranslate"><span class="pre">nmax</span></code> parameters, controlling the minimum and
maximum number of observations per box, respectively, yourself. In this case we’ll also choose a different
<a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a>, using the <code class="docutils literal notranslate"><span class="pre">cmap</span></code>
parameter.</p>
<p><code class="docutils literal notranslate"><span class="pre">aggplot</span></code> will satisfy the <code class="docutils literal notranslate"><span class="pre">nmax</span></code> parameter before trying to satisfy <code class="docutils literal notranslate"><span class="pre">nmin</span></code>, so you may result in spaces
without observations, or ones lacking a statistically significant number of observations. This is necessary in
order to break up “spaces” that the algorithm would otherwise end on. You can control the maximum number of
observations in the blank spaces using the <code class="docutils literal notranslate"><span class="pre">nsig</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">aggplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">nmin</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">nsig</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;LATDEP&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/aggplot-quadtree-tuned.png" src="_images/aggplot-quadtree-tuned.png" />
<p>You’ll have to play around with these parameters to get the clearest picture.</p>
<p>Usually, however, observations with a geospatial component will be provided with some form of spatial
categorization. In the case of our collisions example, this comes in the form of a postal zip code. With the
simple addition of this data column via the <code class="docutils literal notranslate"><span class="pre">by</span></code> parameter, our output changes radically, taking advantage of
the additional context we now have to sort and aggregate our observations by (hopefully) geospatially
meaningful, if still crude, grouped convex hulls.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">aggplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span>
             <span class="n">by</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/aggplot-hulls.png" src="_images/aggplot-hulls.png" />
<p>Finally, suppose you actually know exactly the geometries that you would like to aggregate by. Provide these in
the form of a <code class="docutils literal notranslate"><span class="pre">geopandas</span></code> <code class="docutils literal notranslate"><span class="pre">GeoSeries</span></code>, one whose index matches the values in your <code class="docutils literal notranslate"><span class="pre">by</span></code> column (so
<code class="docutils literal notranslate"><span class="pre">BROOKLYN</span></code> matches <code class="docutils literal notranslate"><span class="pre">BROOKLYN</span></code> for example), to the <code class="docutils literal notranslate"><span class="pre">geometry</span></code> parameter. Your output will now be an
ordinary choropleth.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">aggplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span>
             <span class="n">by</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">boroughs</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/aggplot-by.png" src="_images/aggplot-by.png" />
<p>Observations will be aggregated by average, by default. In our example case, our plot shows that accidents in
Manhattan tend to result in significantly fewer injuries than accidents occuring in other boroughs. Specify an
alternative aggregation using the <code class="docutils literal notranslate"><span class="pre">agg</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">aggplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span>
         <span class="n">geometry</span><span class="o">=</span><span class="n">boroughs_2</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/aggplot-agg.png" src="_images/aggplot-agg.png" />
<p><code class="docutils literal notranslate"><span class="pre">legend</span></code> toggles the legend. Additional keyword arguments for styling the <a class="reference external" href="http://matplotlib.org/api/colorbar_api.html">colorbar</a> legend are passed using <code class="docutils literal notranslate"><span class="pre">legend_kwargs</span></code>. Other additional keyword
arguments are passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon</a> instances.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">aggplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span>
             <span class="n">geometry</span><span class="o">=</span><span class="n">boroughs_2</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="nb">len</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
             <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;horizontal&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/aggplot-legend-kwargs.png" src="_images/aggplot-legend-kwargs.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.cartogram">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">cartogram</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">scale=None</em>, <em class="sig-param">limits=(0.2</em>, <em class="sig-param">1)</em>, <em class="sig-param">scale_func=None</em>, <em class="sig-param">trace=True</em>, <em class="sig-param">trace_kwargs=None</em>, <em class="sig-param">hue=None</em>, <em class="sig-param">categorical=False</em>, <em class="sig-param">scheme=None</em>, <em class="sig-param">k=5</em>, <em class="sig-param">cmap='viridis'</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">legend_values=None</em>, <em class="sig-param">legend_labels=None</em>, <em class="sig-param">legend_kwargs=None</em>, <em class="sig-param">legend_var='scale'</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.cartogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Self-scaling area plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – <p>A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p>
</p></li>
<li><p><strong>scale</strong> (<em>str</em><em> or </em><em>iterable</em><em>, </em><em>optional</em>) – Applies scaling to the output points. Defaults to None (no scaling).</p></li>
<li><p><strong>limits</strong> (<em>(</em><em>min</em><em>, </em><em>max</em><em>) </em><em>tuple</em><em>, </em><em>optional</em>) – The minimum and maximum scale limits. Ignored if <code class="docutils literal notranslate"><span class="pre">scale</span></code> is left specified.</p></li>
<li><p><strong>scale_func</strong> (<em>ufunc</em><em>, </em><em>optional</em>) – <p>The function used to scale point sizes. Defaults to a linear scale. For more information
see <a class="reference external" href="examples/usa-city-elevations.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>trace</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a trace of the polygon’s original outline in the plot result.</p></li>
<li><p><strong>trace_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">trace</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this parameter can be used to adjust the properties of the
trace outline. This parameter is ignored if trace is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>hue</strong> (<em>None</em><em>, </em><em>Series</em><em>, </em><em>GeoSeries</em><em>, </em><em>iterable</em><em>, or </em><em>str</em><em>, </em><em>optional</em>) – Applies a colormap to the output points.</p></li>
<li><p><strong>categorical</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">hue</span></code> references a categorical variable, and <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default)
otherwise. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>scheme</strong> (<em>None</em><em> or </em><em>{&quot;quantiles&quot;|&quot;equal_interval&quot;|&quot;fisher_Jenks&quot;}</em><em>, </em><em>optional</em>) – Controls how the colormap bin edges are determined. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>k</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified. Otherwise, if <code class="docutils literal notranslate"><span class="pre">categorical</span></code> is False, controls
how many colors to use (5 is the default). If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, a continuous colormap will
be used.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib color</em><em>, </em><em>optional</em>) – <p>The <a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a>
to be used. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p>
</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Values below this level will be colored the same threshold value. Defaults to the dataset
minimum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Values above this level will be colored the same threshold value. Defaults to the dataset
maximum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>legend</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a legend. Ignored if neither a <code class="docutils literal notranslate"><span class="pre">hue</span></code> nor a <code class="docutils literal notranslate"><span class="pre">scale</span></code> is
specified.</p></li>
<li><p><strong>legend_values</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The values to use in the legend. Defaults to equal intervals. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The names to use in the legend. Defaults to the variable values. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to
<a class="reference external" href="http://matplotlib.org/users/legend_guide.html">the underlying legend</a>.</p>
</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon patches</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>A cartogram is a plot type which ingests a series of enclosed <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> or <code class="docutils literal notranslate"><span class="pre">MultiPolygon</span></code>
entities and spits out a view of these shapes in which area is distorted according to the size
of some parameter of interest.</p>
<p>A basic cartogram specifies data, a projection, and a <code class="docutils literal notranslate"><span class="pre">scale</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="kn">as</span> <span class="nn">gplt</span>
<span class="kn">import</span> <span class="nn">geoplot.crs</span> <span class="kn">as</span> <span class="nn">gcrs</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">())</span>
</pre></div>
</div>
<img alt="_images/cartogram-initial.png" src="_images/cartogram-initial.png" />
<p>The gray outline can be turned off by specifying <code class="docutils literal notranslate"><span class="pre">trace</span></code>, and a legend can be added by
specifying <code class="docutils literal notranslate"><span class="pre">legend</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">trace</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/cartogram-trace-legend.png" src="_images/cartogram-trace-legend.png" />
<p>Keyword arguments can be passed to the legend using the <code class="docutils literal notranslate"><span class="pre">legend_kwargs</span></code> argument. These
arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib.legend.Legend</span></code> instance (<a class="reference external" href="http://matplotlib.org/api/legend_api.html#matplotlib.legend.Legend">ref</a>). The <code class="docutils literal notranslate"><span class="pre">loc</span></code> and
<code class="docutils literal notranslate"><span class="pre">bbox_to_anchor</span></code> parameters are particularly useful for positioning the legend. Other
additional arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>
<a class="reference external" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter">scatter plot</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">trace</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/cartogram-legend-kwargs.png" src="_images/cartogram-legend-kwargs.png" />
<p>Additional arguments to <code class="docutils literal notranslate"><span class="pre">cartogram</span></code> will be interpreted as keyword arguments for the scaled
polygons, using <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">matplotlib Polygon patch</a> rules.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;darkgreen&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/cartogram-kwargs.png" src="_images/cartogram-kwargs.png" />
<p>Manipulate the outlines use the <code class="docutils literal notranslate"><span class="pre">trace_kwargs</span></code> argument, which accepts the same
<a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">matplotlib Polygon patch</a>
parameters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">trace_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;edgecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;lightgreen&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/cartogram-trace-kwargs.png" src="_images/cartogram-trace-kwargs.png" />
<p>Adjust the level of scaling to apply using the <code class="docutils literal notranslate"><span class="pre">limits</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/cartogram-limits.png" src="_images/cartogram-limits.png" />
<p>The default scaling function is linear: an observations at the midpoint of two others will be
exactly midway between them in size. To specify an alternative scaling function, use the
<code class="docutils literal notranslate"><span class="pre">scale_func</span></code> parameter. This should be a factory function of two variables which, when
given the maximum and minimum of the dataset, returns a scaling function which will be applied
to the rest of the data. A demo is available in the
<a class="reference external" href="examples/usa-city-elevations.html">example gallery</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">trivial_scale</span><span class="p">(</span><span class="n">minval</span><span class="p">,</span> <span class="n">maxval</span><span class="p">):</span> <span class="k">return</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">scale_func</span><span class="o">=</span><span class="n">trivial_scale</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/cartogram-scale-func.png" src="_images/cartogram-scale-func.png" />
<p><code class="docutils literal notranslate"><span class="pre">cartogram</span></code> also provides the same <code class="docutils literal notranslate"><span class="pre">hue</span></code> visual variable parameters provided by
e.g. <code class="docutils literal notranslate"><span class="pre">pointplot</span></code>. For more information on <code class="docutils literal notranslate"><span class="pre">hue</span></code>-related arguments, see the related sections
in the <code class="docutils literal notranslate"><span class="pre">pointplot</span></code> <a class="reference external" href="./pointplot.html">documentation</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">cartogram</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Population Density&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/cartogram-hue.png" src="_images/cartogram-hue.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.choropleth">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">choropleth</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">hue=None</em>, <em class="sig-param">scheme=None</em>, <em class="sig-param">k=5</em>, <em class="sig-param">cmap='Set1'</em>, <em class="sig-param">categorical=False</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">legend_kwargs=None</em>, <em class="sig-param">legend_labels=None</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.choropleth" title="Permalink to this definition">¶</a></dt>
<dd><p>A well-known area plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – <p>A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p>
</p></li>
<li><p><strong>hue</strong> (<em>None</em><em>, </em><em>Series</em><em>, </em><em>GeoSeries</em><em>, </em><em>iterable</em><em>, or </em><em>str</em><em>, </em><em>optional</em>) – Applies a colormap to the output points.</p></li>
<li><p><strong>categorical</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">hue</span></code> references a categorical variable, and <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default)
otherwise. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>scheme</strong> (<em>None</em><em> or </em><em>{&quot;quantiles&quot;|&quot;equal_interval&quot;|&quot;fisher_Jenks&quot;}</em><em>, </em><em>optional</em>) – Controls how the colormap bin edges are determined. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>k</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified. Otherwise, if <code class="docutils literal notranslate"><span class="pre">categorical</span></code> is False, controls
how many colors to use (5 is the default). If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, a continuous colormap will
be used.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib color</em><em>, </em><em>optional</em>) – <p>The <a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a>
to be used. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p>
</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Values below this level will be colored the same threshold value. Defaults to the dataset
minimum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Values above this level will be colored the same threshold value. Defaults to the dataset
maximum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>legend</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a legend. Ignored if neither a <code class="docutils literal notranslate"><span class="pre">hue</span></code> nor a <code class="docutils literal notranslate"><span class="pre">scale</span></code> is
specified.</p></li>
<li><p><strong>legend_values</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The values to use in the legend. Defaults to equal intervals. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The names to use in the legend. Defaults to the variable values. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to
<a class="reference external" href="http://matplotlib.org/users/legend_guide.html">the underlying legend</a>.</p>
</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon patches</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>A choropleth takes observations that have been aggregated on some meaningful polygonal level
(e.g. census tract, state, country, or continent) and displays the data to the reader using
color. It is a well-known plot type, and likeliest the most general-purpose and well-known of
the specifically spatial plot types. It is especially powerful when combined with meaningful
or actionable aggregation areas; if no such aggregations exist, or the aggregations you have
access to are mostly incidental, its value is more limited.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">choropleth</span></code> requires a series of enclosed areas consisting of <code class="docutils literal notranslate"><span class="pre">shapely</span></code> <code class="docutils literal notranslate"><span class="pre">Polygon</span></code>
or <code class="docutils literal notranslate"><span class="pre">MultiPolygon</span></code> entities, and a set of data about them that you would like to express in
color. A basic choropleth requires geometry, a <code class="docutils literal notranslate"><span class="pre">hue</span></code> variable, and, optionally, a projection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="kn">as</span> <span class="nn">gplt</span>
<span class="kn">import</span> <span class="nn">geoplot.crs</span> <span class="kn">as</span> <span class="nn">gcrs</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">polydata</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;latdep&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
</pre></div>
</div>
<img alt="_images/choropleth-initial.png" src="_images/choropleth-initial.png" />
<p>Change the colormap with the <code class="docutils literal notranslate"><span class="pre">cmap</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">polydata</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;latdep&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/choropleth-cmap.png" src="_images/choropleth-cmap.png" />
<p>If your variable of interest is already <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/categorical.html">categorical</a>, you can specify
<code class="docutils literal notranslate"><span class="pre">categorical=True</span></code> to use the labels in your dataset directly. To add a legend, specify
<code class="docutils literal notranslate"><span class="pre">legend</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BoroName&#39;</span><span class="p">,</span>
                <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/choropleth-legend.png" src="_images/choropleth-legend.png" />
<p>Keyword arguments can be passed to the legend using the <code class="docutils literal notranslate"><span class="pre">legend_kwargs</span></code> argument. These
arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib.legend.Legend</span></code> instance (<a class="reference external" href="http://matplotlib.org/api/legend_api.html#matplotlib.legend.Legend">ref</a>). The <code class="docutils literal notranslate"><span class="pre">loc</span></code> and
<code class="docutils literal notranslate"><span class="pre">bbox_to_anchor</span></code> parameters are particularly useful for positioning the legend. Other
additional arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>
<a class="reference external" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter">scatter plot</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BoroName&#39;</span><span class="p">,</span>
                <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/choropleth-legend-kwargs.png" src="_images/choropleth-legend-kwargs.png" />
<p>Additional arguments not in the method signature will be passed as keyword parameters to the
underlying
<a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">matplotlib Polygon patches</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BoroName&#39;</span><span class="p">,</span>
                <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/choropleth-kwargs.png" src="_images/choropleth-kwargs.png" />
<p>Choropleths default to splitting the data into five buckets with approximately equal numbers
of observations in them. Change the number of buckets by specifying <code class="docutils literal notranslate"><span class="pre">k</span></code>. Or, to use a
continuous colormap, specify <code class="docutils literal notranslate"><span class="pre">k=None</span></code>. In this case a colorbar legend will be used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">polydata</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;latdep&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
</pre></div>
</div>
<img alt="_images/choropleth-k-none.png" src="_images/choropleth-k-none.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">choropleth</span></code> binning methodology is controlled using by <cite>scheme`</cite> parameter. The default
is <code class="docutils literal notranslate"><span class="pre">quantile</span></code>, which bins observations into classes of different sizes but the same numbers
of observations. <code class="docutils literal notranslate"><span class="pre">equal_interval</span></code> will creates bins that are the same size, but potentially
containing different numbers of observations. The more complicated <code class="docutils literal notranslate"><span class="pre">fisher_jenks</span></code> scheme is
an intermediate between the two.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">census_tracts</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;mock_data&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
        <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">},</span>
        <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;equal_interval&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/choropleth-scheme.png" src="_images/choropleth-scheme.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.kdeplot">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">kdeplot</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.kdeplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial kernel density estimate plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – <p>A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p>
</p></li>
<li><p><strong>clip</strong> (<em>None</em><em> or </em><em>iterable</em><em> or </em><em>GeoSeries</em><em>, </em><em>optional</em>) – If specified, the <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code> output will be clipped to the boundaries of this geometry.</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.kdeplot.html">kernel density estimate plot</a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Kernel_density_estimation">Kernel density estimate</a> is a
flexible unsupervised machine learning technique for non-parametrically estimating the
distribution underlying input data. The KDE is a great way of smoothing out random noise and
estimating the  true shape of point data distributed in your space, but it needs a moderately
large number of observations to be reliable.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code>, actually a thin wrapper on top of the <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code>,
is an application of this visualization technique to the geospatial setting.</p>
<p>A basic <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code> specifies (pointwise) data and, optionally, a projection. To make the
result more interpretable, I also overlay the underlying borough geometry.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/kdeplot-overlay.png" src="_images/kdeplot-overlay.png" />
<p>Most of the rest of the parameters to <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code> are parameters inherited from
<a class="reference external" href="http://seaborn.pydata.org/generated/seaborn.kdeplot.html#seaborn.kdeplot">the seaborn method by the same name</a>,
on which this plot type is based. For example, specifying <code class="docutils literal notranslate"><span class="pre">shade=True</span></code> provides a filled
KDE instead of a contour one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
                  <span class="n">shade</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/kdeplot-shade.png" src="_images/kdeplot-shade.png" />
<p>Use <code class="docutils literal notranslate"><span class="pre">n_levels</span></code> to specify the number of contour levels.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
                  <span class="n">n_levels</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/kdeplot-n-levels.png" src="_images/kdeplot-n-levels.png" />
<p>Or specify <code class="docutils literal notranslate"><span class="pre">cmap</span></code> to change the colormap.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
     <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Purples&#39;</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/kdeplot-cmap.png" src="_images/kdeplot-cmap.png" />
<p>Oftentimes given the geometry of the location, a “regular” continuous KDEPlot doesn’t make
sense. We can specify a <code class="docutils literal notranslate"><span class="pre">clip</span></code> of iterable geometries, which will be used to trim the
<code class="docutils literal notranslate"><span class="pre">kdeplot</span></code>. Note that if you have set <code class="docutils literal notranslate"><span class="pre">shade=True</span></code> as a parameter you may need to
additionally specify <code class="docutils literal notranslate"><span class="pre">shade_lowest=False</span></code> to avoid inversion at the edges of the plot.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
             <span class="n">shade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/kdeplot-clip.png" src="_images/kdeplot-clip.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.pointplot">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">pointplot</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">hue=None</em>, <em class="sig-param">categorical=False</em>, <em class="sig-param">scheme=None</em>, <em class="sig-param">k=5</em>, <em class="sig-param">cmap='Set1'</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">scale=None</em>, <em class="sig-param">limits=(0.5</em>, <em class="sig-param">2)</em>, <em class="sig-param">scale_func=None</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">legend_values=None</em>, <em class="sig-param">legend_labels=None</em>, <em class="sig-param">legend_kwargs=None</em>, <em class="sig-param">legend_var=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.pointplot" title="Permalink to this definition">¶</a></dt>
<dd><p>A scatter plot, where data value(s) are represented as a coordinate point on a map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – The projection to use.</p></li>
<li><p><strong>hue</strong> (<em>None</em><em>, </em><em>Series</em><em>, </em><em>GeoSeries</em><em>, </em><em>iterable</em><em>, or </em><em>str</em><em>, </em><em>optional</em>) – The column in the dataset (or an iterable of some other data) used to color the points.</p></li>
<li><p><strong>categorical</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If the <code class="docutils literal notranslate"><span class="pre">hue</span></code> variable is categorical, set this value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>scheme</strong> (<em>None</em><em> or </em><em>{&quot;quantiles&quot;|&quot;equal_interval&quot;|&quot;fisher_jenks&quot;}</em><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">hue</span></code> is specified, the
<a class="reference external" href="https://pysal.readthedocs.io/en/v1.11.0/library/esda/mapclassify.html">choropleth map classifier</a>
to use.</p></li>
<li><p><strong>k</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">hue</span></code> is specified and <code class="docutils literal notranslate"><span class="pre">categorical</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, set the number of colors
to use. Defaults to a continuous colormap.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib color</em><em>, </em><em>optional</em>) – <p>If <code class="docutils literal notranslate"><span class="pre">hue</span></code> is specified, the
<a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a> to
use.</p>
</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Values below this level will be colored the same threshold value. Defaults to the dataset
minimum.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Values above this level will be colored the same threshold value. Defaults to the dataset
maximum.</p></li>
<li><p><strong>scale</strong> (<em>str</em><em> or </em><em>iterable</em><em>, </em><em>optional</em>) – Applies scaling to the output points. Defaults to None (no scaling).</p></li>
<li><p><strong>limits</strong> (<em>(</em><em>min</em><em>, </em><em>max</em><em>) </em><em>tuple</em><em>, </em><em>optional</em>) – The minimum and maximum scale limits. Ignored if <code class="docutils literal notranslate"><span class="pre">scale</span></code> is left specified.</p></li>
<li><p><strong>scale_func</strong> (<em>ufunc</em><em>, </em><em>optional</em>) – <p>The function used to scale point sizes. Defaults to a linear scale. For more information
see <a class="reference external" href="examples/usa-city-elevations.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a legend. Ignored if neither a <code class="docutils literal notranslate"><span class="pre">hue</span></code> nor a <code class="docutils literal notranslate"><span class="pre">scale</span></code> is
specified.</p></li>
<li><p><strong>legend_values</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The values to use in the legend. Defaults to equal intervals. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The names to use in the legend. Defaults to the variable values. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_var</strong> (<em>&quot;hue&quot;</em><em> or </em><em>&quot;scale&quot;</em><em>, </em><em>optional</em>) – If both <code class="docutils literal notranslate"><span class="pre">hue</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> are specified, which variable to use in the legend.</p></li>
<li><p><strong>legend_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to
<a class="reference external" href="http://matplotlib.org/users/legend_guide.html">the underlying legend</a>.</p>
</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Control the plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to the underlying <a class="reference external" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter">scatter plot</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pointplot</span></code> is a <a class="reference external" href="https://en.wikipedia.org/wiki/Scatter_plot">geospatial scatter plot</a> that represents each observation in your dataset
with a single point. It is simple and easily interpretable plot that is nearly universally
understood, making it an ideal choice for showing simple pointwise relationships between
observations.</p>
<p><code class="docutils literal notranslate"><span class="pre">df</span></code> should be a <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code> of <code class="docutils literal notranslate"><span class="pre">shapely.geometry.Point</span></code> geometries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="kn">as</span> <span class="nn">gplt</span>
<span class="kn">import</span> <span class="nn">geoplot.crs</span> <span class="kn">as</span> <span class="nn">gcrs</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/pointplot-initial.png" src="_images/pointplot-initial.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">hue</span></code> parameter accepts a data column and applies a colormap to the output. The
<code class="docutils literal notranslate"><span class="pre">legend</span></code> parameter toggles a legend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">cities</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/pointplot-legend.png" src="_images/pointplot-legend.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">pointplot</span></code> binning methodology is controlled using by <cite>scheme`</cite> parameter. The default
is <code class="docutils literal notranslate"><span class="pre">quantile</span></code>, which bins observations into classes of different sizes but the same numbers
of observations. <code class="docutils literal notranslate"><span class="pre">equal_interval</span></code> will creates bins that are the same size, but potentially
containing different numbers of observations. The more complicated <code class="docutils literal notranslate"><span class="pre">fisher_jenks</span></code> scheme is
an intermediate between the two.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">cities</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;equal_interval&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/pointplot-scheme.png" src="_images/pointplot-scheme.png" />
<p>Alternatively, your data may already be <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/categorical.html">categorical</a>. In that case specify
<code class="docutils literal notranslate"><span class="pre">categorical=True</span></code> instead.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/pointplot-categorical.png" src="_images/pointplot-categorical.png" />
<p>Keyword arguments can be passed to the legend using the <code class="docutils literal notranslate"><span class="pre">legend_kwargs</span></code> argument. These
arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib.legend.Legend</span></code> instance (<a class="reference external" href="http://matplotlib.org/api/legend_api.html#matplotlib.legend.Legend">ref</a>). The <code class="docutils literal notranslate"><span class="pre">loc</span></code> and
<code class="docutils literal notranslate"><span class="pre">bbox_to_anchor</span></code> parameters are particularly useful for positioning the legend. Other
additional arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>
<a class="reference external" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter">scatter plot</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">[</span><span class="n">collisions</span><span class="p">[</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()],</span>
               <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">},</span>
               <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/pointplot-kwargs.png" src="_images/pointplot-kwargs.png" />
<p>Change the number of bins by specifying an alternative <code class="docutils literal notranslate"><span class="pre">k</span></code> value. Adjust the <a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">colormap</a> using the <code class="docutils literal notranslate"><span class="pre">cmap</span></code> parameter.
To use a continuous colormap, explicitly specify <code class="docutils literal notranslate"><span class="pre">k=None</span></code>. Note that if <code class="docutils literal notranslate"><span class="pre">legend=True</span></code>, a
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/colorbar_api.html">colorbar legend</a> will be used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
               <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)})</span>
</pre></div>
</div>
<img alt="_images/pointplot-k.png" src="_images/pointplot-k.png" />
<p><code class="docutils literal notranslate"><span class="pre">scale</span></code> provides an alternative or additional visual variable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/pointplot-scale.png" src="_images/pointplot-scale.png" />
<p>The limits can be adjusted to fit your data using the <code class="docutils literal notranslate"><span class="pre">limits</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/pointplot-limits.png" src="_images/pointplot-limits.png" />
<p>The default scaling function is linear: an observations at the midpoint of two others will be
exactly midway between them in size. To specify an alternative scaling function, use the
<code class="docutils literal notranslate"><span class="pre">scale_func</span></code> parameter. This should be a factory function of two variables which, when given
the maximum and minimum of the dataset, returns a scaling function which will be applied to
the rest of the data. A demo is available in the
<a class="reference external" href="examples/usa-city-elevations.html">example gallery</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">trivial_scale</span><span class="p">(</span><span class="n">minval</span><span class="p">,</span> <span class="n">maxval</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">scalar</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">scalar</span>

<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">scale_func</span><span class="o">=</span><span class="n">trivial_scale</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">})</span>
</pre></div>
</div>
<img alt="_images/pointplot-scale-func.png" src="_images/pointplot-scale-func.png" />
<p><code class="docutils literal notranslate"><span class="pre">hue</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> can co-exist. In case more than one visual variable is used, control
which one appears in the legend using <code class="docutils literal notranslate"><span class="pre">legend_var</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">[</span><span class="n">collisions</span><span class="p">[</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()],</span>
               <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
               <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">},</span>
               <span class="n">legend_var</span><span class="o">=</span><span class="s1">&#39;scale&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/pointplot-legend-var.png" src="_images/pointplot-legend-var.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.polyplot">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">polyplot</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">edgecolor='black'</em>, <em class="sig-param">facecolor='None'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.polyplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Polygons on a map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – <p>A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p>
</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot. Defaults to (8, 6), the <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> default global.</p></li>
<li><p><strong>figsize</strong> – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon patches</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The polyplot can be used to draw simple, unembellished polygons. A trivial example can be
created with just a geometry and, optionally, a projection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="kn">as</span> <span class="nn">gplt</span>
<span class="kn">import</span> <span class="nn">geoplot.crs</span> <span class="kn">as</span> <span class="nn">gcrs</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">())</span>
</pre></div>
</div>
<img alt="_images/polyplot-initial.png" src="_images/polyplot-initial.png" />
<p>However, note that <code class="docutils literal notranslate"><span class="pre">polyplot</span></code> is mainly intended to be used in concert with other plot types.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">[</span><span class="n">collisions</span><span class="p">[</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()],</span>
               <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
               <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BOROUGH&#39;</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
               <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">},</span>
               <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/polyplot-stacked.png" src="_images/polyplot-stacked.png" />
<p>Additional keyword arguments are passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon patches</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
                   <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightgray&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/polyplot-kwargs.png" src="_images/polyplot-kwargs.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.sankey">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">sankey</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">path=None</em>, <em class="sig-param">hue=None</em>, <em class="sig-param">categorical=False</em>, <em class="sig-param">scheme=None</em>, <em class="sig-param">k=5</em>, <em class="sig-param">cmap='viridis'</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">legend_kwargs=None</em>, <em class="sig-param">legend_labels=None</em>, <em class="sig-param">legend_values=None</em>, <em class="sig-param">legend_var=None</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">scale=None</em>, <em class="sig-param">limits=(1</em>, <em class="sig-param">5)</em>, <em class="sig-param">scale_func=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.sankey" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial Sankey or flow map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em><em>, </em><em>optional.</em>) – The data being plotted. This parameter is optional - it is not needed if <code class="docutils literal notranslate"><span class="pre">start</span></code> and
<code class="docutils literal notranslate"><span class="pre">end</span></code> (and <code class="docutils literal notranslate"><span class="pre">hue</span></code>, if provided) are iterables.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – <p>A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p>
</p></li>
<li><p><strong>start</strong> (<em>str</em><em> or </em><em>iterable</em>) – A list of starting points. This parameter is required.</p></li>
<li><p><strong>end</strong> (<em>str</em><em> or </em><em>iterable</em>) – A list of ending points. This parameter is required.</p></li>
<li><p><strong>path</strong> (<em>geoplot.crs object instance</em><em> or </em><em>iterable</em><em>, </em><em>optional</em>) – Pass an iterable of paths to draw custom paths (see <a class="reference external" href="https://residentmario.github.io/geoplot/examples/dc-street-network.html">this example</a>), or a
projection to draw the shortest paths in that given projection. The default is
<code class="docutils literal notranslate"><span class="pre">Geodetic()</span></code>, which will connect points using
<a class="reference external" href="https://en.wikipedia.org/wiki/Great-circle_distance">great circle distance</a>—the true
shortest path on the surface of the Earth.</p></li>
<li><p><strong>hue</strong> (<em>None</em><em>, </em><em>Series</em><em>, </em><em>GeoSeries</em><em>, </em><em>iterable</em><em>, or </em><em>str</em><em>, </em><em>optional</em>) – Applies a colormap to the output points.</p></li>
<li><p><strong>categorical</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">hue</span></code> references a categorical variable, and <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default)
otherwise. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>scheme</strong> (<em>None</em><em> or </em><em>{&quot;quantiles&quot;|&quot;equal_interval&quot;|&quot;fisher_jenks&quot;}</em><em>, </em><em>optional</em>) – Controls how the colormap bin edges are determined. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>k</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified. Otherwise, if <code class="docutils literal notranslate"><span class="pre">categorical</span></code> is False, controls
how many colors to use (5 is the default). If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, a continuous colormap will
be used.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib color</em><em>, </em><em>optional</em>) – <p>The <a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a>
to be used. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p>
</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Values below this level will be colored the same threshold value. Defaults to the dataset
minimum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Values above this level will be colored the same threshold value. Defaults to the dataset
maximum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>scale</strong> (<em>str</em><em> or </em><em>iterable</em><em>, </em><em>optional</em>) – Applies scaling to the output points. Defaults to None (no scaling).</p></li>
<li><p><strong>limits</strong> (<em>(</em><em>min</em><em>, </em><em>max</em><em>) </em><em>tuple</em><em>, </em><em>optional</em>) – The minimum and maximum scale limits. Ignored if <code class="docutils literal notranslate"><span class="pre">scale</span></code> is left specified.</p></li>
<li><p><strong>scale_func</strong> (<em>ufunc</em><em>, </em><em>optional</em>) – <p>The function used to scale point sizes. Defaults to a linear scale. For more information
see <a class="reference external" href="examples/usa-city-elevations.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a legend. Ignored if neither a <code class="docutils literal notranslate"><span class="pre">hue</span></code> nor a <code class="docutils literal notranslate"><span class="pre">scale</span></code> is
specified.</p></li>
<li><p><strong>legend_values</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The values to use in the legend. Defaults to equal intervals. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The names to use in the legend. Defaults to the variable values. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_var</strong> (<em>&quot;hue&quot;</em><em> or </em><em>&quot;scale&quot;</em><em>, </em><em>optional</em>) – If both <code class="docutils literal notranslate"><span class="pre">hue</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> are specified, which variable to use in the legend.</p></li>
<li><p><strong>legend_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to
<a class="reference external" href="http://matplotlib.org/users/legend_guide.html">the underlying legend</a>.</p>
</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>
<a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D">Line2D</a>
instances.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">GeoAxesSubplot</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/Sankey_diagram">Sankey diagram</a> is a simple visualization
demonstrating flow through a network. A Sankey diagram is useful when you wish to show the
volume of things moving between points or spaces: traffic load a road network, for example, or
inter-airport travel volumes. The <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> <code class="docutils literal notranslate"><span class="pre">sankey</span></code> adds spatial context to this plot type
by laying out the points in meaningful locations: airport locations, say, or road
intersections.</p>
<p>A basic <code class="docutils literal notranslate"><span class="pre">sankey</span></code> specifies data, <code class="docutils literal notranslate"><span class="pre">start</span></code> points, <code class="docutils literal notranslate"><span class="pre">end</span></code> points, and, optionally, a
projection. The <code class="docutils literal notranslate"><span class="pre">df</span></code> argument is optional; if geometries are provided as independent
iterables it is ignored. We overlay world geometry to aid interpretability.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">la_flights</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">();</span> <span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-geospatial-context.png" src="_images/sankey-geospatial-context.png" />
<p>The lines appear curved because they are
<a class="reference external" href="https://en.wikipedia.org/wiki/Great-circle_distance">great circle</a> paths, which are the
shortest routes between points on a sphere.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">la_flights</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">Orthographic</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">();</span> <span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">();</span> <span class="n">ax</span><span class="o">.</span><span class="n">outline_patch</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/sankey-greatest-circle-distance.png" src="_images/sankey-greatest-circle-distance.png" />
<p>To plot using a different distance metric pass a <code class="docutils literal notranslate"><span class="pre">cartopy</span></code> <code class="docutils literal notranslate"><span class="pre">crs</span></code> object (<em>not</em> a
<code class="docutils literal notranslate"><span class="pre">geoplot</span></code> one) to the <code class="docutils literal notranslate"><span class="pre">path</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="kn">as</span> <span class="nn">ccrs</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">la_flights</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                 <span class="n">path</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">();</span> <span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-path-projection.png" src="_images/sankey-path-projection.png" />
<p>If your data has custom paths, you can use those instead, via the <code class="docutils literal notranslate"><span class="pre">path</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">dc</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">dc</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;aadt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/sankey-path.png" src="_images/sankey-path.png" />
<p><code class="docutils literal notranslate"><span class="pre">hue</span></code> parameterizes the color, and <code class="docutils literal notranslate"><span class="pre">cmap</span></code> controls the colormap. <code class="docutils literal notranslate"><span class="pre">legend</span></code> adds a legend.
Keyword arguments can be passed to the legend using the <code class="docutils literal notranslate"><span class="pre">legend_kwargs</span></code> argument. These
arguments will be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/legend_api.html#matplotlib.legend.Legend">Legend</a>. The <code class="docutils literal notranslate"><span class="pre">loc</span></code> and
<code class="docutils literal notranslate"><span class="pre">bbox_to_anchor</span></code> parameters are particularly useful for positioning the legend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                 <span class="n">start</span><span class="o">=</span><span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;to&#39;</span><span class="p">,</span>
                 <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;mock_variable&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu&#39;</span><span class="p">,</span>
                 <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-legend-kwargs.png" src="_images/sankey-legend-kwargs.png" />
<p>Change the number of bins by specifying an alternative <code class="docutils literal notranslate"><span class="pre">k</span></code> value. To use a continuous
colormap, explicitly specify <code class="docutils literal notranslate"><span class="pre">k=None</span></code>. You can change the binning sceme with <code class="docutils literal notranslate"><span class="pre">scheme</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">quantile</span></code>, which bins observations into classes of different sizes but the
same numbers of observations. <code class="docutils literal notranslate"><span class="pre">equal_interval</span></code> will creates bins that are the same size, but
potentially containing different numbers of observations. The more complicated <code class="docutils literal notranslate"><span class="pre">fisher_jenks</span></code>
scheme is an intermediate between the two.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                 <span class="n">start</span><span class="o">=</span><span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;to&#39;</span><span class="p">,</span>
                 <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;mock_variable&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu&#39;</span><span class="p">,</span>
                 <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)},</span>
                 <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;equal_interval&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-scheme.png" src="_images/sankey-scheme.png" />
<p>If your variable of interest is already <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/categorical.html">categorical</a>, specify <code class="docutils literal notranslate"><span class="pre">categorical=True</span></code>
to use the labels in your dataset directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                 <span class="n">start</span><span class="o">=</span><span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;to&#39;</span><span class="p">,</span>
                 <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;above_meridian&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu&#39;</span><span class="p">,</span>
                 <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)},</span>
                 <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-categorical.png" src="_images/sankey-categorical.png" />
<p><code class="docutils literal notranslate"><span class="pre">scale</span></code> can be used to enable <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> as a visual variable. Adjust the upper and lower
bound with the <code class="docutils literal notranslate"><span class="pre">limits</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">la_flights</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                 <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">125.0011</span><span class="p">,</span> <span class="o">-</span><span class="mf">66.9326</span><span class="p">,</span> <span class="mf">24.9493</span><span class="p">,</span> <span class="mf">49.5904</span><span class="p">),</span>
                 <span class="n">start</span><span class="o">=</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;end&#39;</span><span class="p">,</span>
                 <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Passengers&#39;</span><span class="p">,</span>
                 <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
                 <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-scale.png" src="_images/sankey-scale.png" />
<p>The default scaling function is linear: an observations at the midpoint of two others will be
exactly midway between them in size. To specify an alternative scaling function, use the
<code class="docutils literal notranslate"><span class="pre">scale_func</span></code> parameter. This should be a factory function of two variables which, when given
the maximum and minimum of the dataset, returns a scaling function which will be applied to the
rest of the data. A demo is available in the
<a class="reference external" href="examples/usa-city-elevations.html">example gallery</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">trivial_scale</span><span class="p">(</span><span class="n">minval</span><span class="p">,</span> <span class="n">maxval</span><span class="p">):</span> <span class="k">return</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">la_flights</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                 <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">125.0011</span><span class="p">,</span> <span class="o">-</span><span class="mf">66.9326</span><span class="p">,</span> <span class="mf">24.9493</span><span class="p">,</span> <span class="mf">49.5904</span><span class="p">),</span>
                 <span class="n">start</span><span class="o">=</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;end&#39;</span><span class="p">,</span>
                 <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;Passengers&#39;</span><span class="p">,</span> <span class="n">scale_func</span><span class="o">=</span><span class="n">trivial_scale</span><span class="p">,</span>
                 <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-scale-func.png" src="_images/sankey-scale-func.png" />
<p><code class="docutils literal notranslate"><span class="pre">hue</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> can co-exist. In case more than one visual variable is used, control
which one appears in the legend using <code class="docutils literal notranslate"><span class="pre">legend_var</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
         <span class="n">start</span><span class="o">=</span><span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;to&#39;</span><span class="p">,</span>
         <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;mock_data&#39;</span><span class="p">,</span>
         <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)},</span>
         <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;mock_data&#39;</span><span class="p">,</span> <span class="n">legend_var</span><span class="o">=</span><span class="s2">&quot;hue&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/sankey-legend-var.png" src="_images/sankey-legend-var.png" />
</dd></dl>

<dl class="function">
<dt id="geoplot.geoplot.voronoi">
<code class="sig-prename descclassname">geoplot.geoplot.</code><code class="sig-name descname">voronoi</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">edgecolor='black'</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">hue=None</em>, <em class="sig-param">scheme=None</em>, <em class="sig-param">k=5</em>, <em class="sig-param">cmap='viridis'</em>, <em class="sig-param">categorical=False</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">legend_kwargs=None</em>, <em class="sig-param">legend_labels=None</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">figsize=(8</em>, <em class="sig-param">6)</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.geoplot.voronoi" title="Permalink to this definition">¶</a></dt>
<dd><p>Geospatial Voronoi diagram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>GeoDataFrame</em>) – The data being plotted.</p></li>
<li><p><strong>projection</strong> (<em>geoplot.crs object instance</em><em>, </em><em>optional</em>) – <p>A geographic projection. For more information refer to <a class="reference external" href="https://nbviewer.jupyter.org/github/ResidentMario/geoplot/blob/master/notebooks/tutorials/Projections.ipynb">the tutorial page on projections</a>.</p>
</p></li>
<li><p><strong>hue</strong> (<em>None</em><em>, </em><em>Series</em><em>, </em><em>GeoSeries</em><em>, </em><em>iterable</em><em>, or </em><em>str</em><em>, </em><em>optional</em>) – Applies a colormap to the output points.</p></li>
<li><p><strong>categorical</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">hue</span></code> references a categorical variable, and <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default)
otherwise. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>scheme</strong> (<em>None</em><em> or </em><em>{&quot;quantiles&quot;|&quot;equal_interval&quot;|&quot;fisher_jenks&quot;}</em><em>, </em><em>optional</em>) – Controls how the colormap bin edges are determined. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>k</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified. Otherwise, if <code class="docutils literal notranslate"><span class="pre">categorical</span></code> is False, controls
how many colors to use (5 is the default). If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, a continuous colormap
will be used.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib color</em><em>, </em><em>optional</em>) – <p>The <a class="reference external" href="http://matplotlib.org/examples/color/colormaps_reference.html">matplotlib colormap</a>
to be used. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p>
</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Values below this level will be colored the same threshold value. Defaults to the dataset
minimum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Values above this level will be colored the same threshold value. Defaults to the dataset
maximum. Ignored if <code class="docutils literal notranslate"><span class="pre">hue</span></code> is left unspecified.</p></li>
<li><p><strong>legend</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to include a legend. Ignored if neither a <code class="docutils literal notranslate"><span class="pre">hue</span></code> nor a <code class="docutils literal notranslate"><span class="pre">scale</span></code> is
specified.</p></li>
<li><p><strong>legend_values</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The values to use in the legend. Defaults to equal intervals. For more information see
<a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>The names to use in the legend. Defaults to the variable values. For more information
see <a class="reference external" href="https://residentmario.github.io/geoplot/examples/largest-cities-usa.html">the Gallery demo</a>.</p>
</p></li>
<li><p><strong>legend_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Keyword arguments to be passed to
<a class="reference external" href="http://matplotlib.org/users/legend_guide.html">the underlying legend</a>.</p>
</p></li>
<li><p><strong>extent</strong> (<em>None</em><em> or </em><em>(</em><em>minx</em><em>, </em><em>maxx</em><em>, </em><em>miny</em><em>, </em><em>maxy</em><em>)</em><em>, </em><em>optional</em>) – Used to control plot x-axis and y-axis limits manually.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – An (x, y) tuple passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.figure</span></code> which sets the size, in inches, of the
resultant plot.</p></li>
<li><p><strong>ax</strong> (<em>AxesSubplot</em><em> or </em><em>GeoAxesSubplot instance</em><em>, </em><em>optional</em>) – A <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> or <code class="docutils literal notranslate"><span class="pre">cartopy.mpl.geoaxes.GeoAxesSubplot</span></code> instance.
Defaults to a new axis.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments to be passed to the underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/lines_api.html#matplotlib.lines.Line2D">Line2D objects</a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The axis object with the plot on it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>AxesSubplot or GeoAxesSubplot instance</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The neighborhood closest to a point in space is known as its <a class="reference external" href="https://en.wikipedia.org/wiki/Voronoi_diagram">Voronoi region</a>. Every point in a dataset has a Voronoi
region, which may be either a closed polygon (for inliers) or open infinite region (for points
on the edge of the distribution). A Voronoi diagram works by dividing a space filled with
points into such regions and plotting the result. Voronoi plots allow efficient assessment of
the <em>density</em> of points in different spaces, and when combined with a colormap can be quite
informative of overall trends in the dataset.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> <code class="docutils literal notranslate"><span class="pre">voronoi</span></code> is a spatially aware application of this technique. It compares
well with the more well-known <code class="docutils literal notranslate"><span class="pre">choropleth</span></code>, which has the advantage of using meaningful
regions, but the disadvantage of having defined those regions beforehand. <code class="docutils literal notranslate"><span class="pre">voronoi</span></code> has
fewer requirements and may perform better when the number of observations is small. Compare
also with the quadtree technique available in <code class="docutils literal notranslate"><span class="pre">aggplot</span></code>.</p>
<p>A basic <code class="docutils literal notranslate"><span class="pre">voronoi</span></code> specified data and, optionally, a projection. We overlay geometry to aid
interpretability.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">voronoi</span><span class="p">(</span><span class="n">injurious_collisions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/voronoi-simple.png" src="_images/voronoi-simple.png" />
<p><code class="docutils literal notranslate"><span class="pre">hue</span></code> parameterizes the color, and <code class="docutils literal notranslate"><span class="pre">cmap</span></code> controls the colormap.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">voronoi</span><span class="p">(</span><span class="n">injurious_collisions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span>
                  <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/voronoi-cmap.png" src="_images/voronoi-cmap.png" />
<p>Add a <code class="docutils literal notranslate"><span class="pre">clip</span></code> of iterable geometries to trim the <code class="docutils literal notranslate"><span class="pre">voronoi</span></code> against local geography.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">voronoi</span><span class="p">(</span><span class="n">injurious_collisions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span>
                  <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="o">.</span><span class="n">geometry</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/voronoi-clip.png" src="_images/voronoi-clip.png" />
<p><code class="docutils literal notranslate"><span class="pre">legend</span></code> adds a a <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <a class="reference external" href="http://matplotlib.org/api/legend_api.html#matplotlib.legend.Legend">Legend</a>. This can be tuned
even further using the <code class="docutils literal notranslate"><span class="pre">legend_kwargs</span></code> argument. Other keyword parameters are passed to the
underlying <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>
<a class="reference external" href="http://matplotlib.org/api/patches_api.html#matplotlib.patches.Polygon">Polygon patches</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">voronoi</span><span class="p">(</span><span class="n">injurious_collisions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span>
                  <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span>
                  <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span>
                  <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">},</span>
                  <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/voronoi-kwargs.png" src="_images/voronoi-kwargs.png" />
<p>Change the number of bins by specifying an alternative <code class="docutils literal notranslate"><span class="pre">k</span></code> value. To use a continuous
colormap, explicitly specify <code class="docutils literal notranslate"><span class="pre">k=None</span></code>.  You can change the binning sceme with <code class="docutils literal notranslate"><span class="pre">scheme</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">quantile</span></code>, which bins observations into classes of different sizes but the
same numbers of observations. <code class="docutils literal notranslate"><span class="pre">equal_interval</span></code> will creates bins that are the same size, but
potentially containing different numbers of observations. The more complicated <code class="docutils literal notranslate"><span class="pre">fisher_jenks</span></code>
scheme is an intermediate between the two.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">voronoi</span><span class="p">(</span><span class="n">injurious_collisions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
                  <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;fisher_jenks&#39;</span><span class="p">,</span>
                  <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span>
                  <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">},</span>
                  <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
                 <span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/voronoi-scheme.png" src="_images/voronoi-scheme.png" />
<p>If your variable of interest is already <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/categorical.html">categorical</a>, specify <code class="docutils literal notranslate"><span class="pre">categorical=True</span></code>
to use the labels in your dataset directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">voronoi</span><span class="p">(</span><span class="n">injurious_collisions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;NUMBER OF PERSONS INJURED&#39;</span><span class="p">,</span>
                  <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span>
                  <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span>
                  <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/voronoi-multiparty.png" src="_images/voronoi-multiparty.png" />
</dd></dl>

</div>
<div class="section" id="module-geoplot.quad">
<span id="geoplot-quad-module"></span><h2>geoplot.quad module<a class="headerlink" href="#module-geoplot.quad" title="Permalink to this headline">¶</a></h2>
<p>This module implements a naive equal-split four-way quadtree algorithm
(<a class="reference external" href="https://en.wikipedia.org/wiki/Quadtree">https://en.wikipedia.org/wiki/Quadtree</a>). It has been written in way meant to make it convenient
to use for splitting and aggregating rectangular geometries up to a certain guaranteed minimum
instance threshold.</p>
<p>The routines here are used by the <code class="docutils literal notranslate"><span class="pre">geoplot.aggplot</span></code> plot type, and only when no user geometry
input is provided.</p>
<dl class="class">
<dt id="geoplot.quad.QuadTree">
<em class="property">class </em><code class="sig-prename descclassname">geoplot.quad.</code><code class="sig-name descname">QuadTree</code><span class="sig-paren">(</span><em class="sig-param">gdf</em>, <em class="sig-param">bounds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.quad.QuadTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This module’s core class. For more on quadtrees cf. <a class="reference external" href="https://en.wikipedia.org/wiki/Quadtree">https://en.wikipedia.org/wiki/Quadtree</a>.</p>
<dl class="simple">
<dt>data<span class="classifier">GeoDataFrame</span></dt><dd><p>An efficient shallow copy reference to the class’s <code class="docutils literal notranslate"><span class="pre">gdf</span></code> data initialization input.
This is retained for downstream aggregation purposes.</p>
</dd>
<dt>bounds<span class="classifier">(minx, maxx, miny, maxy)</span></dt><dd><p>A tuple of boundaries for data contained in the quadtree. May be passed as an
initialization input via <code class="docutils literal notranslate"><span class="pre">bounds</span></code> or left to the <code class="docutils literal notranslate"><span class="pre">QuadTree</span></code> instance to compute for
itself.</p>
</dd>
<dt>agg<span class="classifier">dict</span></dt><dd><p>An aggregated dictionary whose keys consist of coordinates within the instance’s
<code class="docutils literal notranslate"><span class="pre">bounds</span></code> and whose values consist of the indices of rows in the <code class="docutils literal notranslate"><span class="pre">data</span></code> property
corresponding with those points. This additional bookkeeping is necessary because a
single coordinate may contain many individual data points.</p>
</dd>
<dt>n<span class="classifier">int</span></dt><dd><p>The number of points contained in the current QuadTree instance.</p>
</dd>
</dl>
<dl class="method">
<dt id="geoplot.quad.QuadTree.partition">
<code class="sig-name descname">partition</code><span class="sig-paren">(</span><em class="sig-param">nmin</em>, <em class="sig-param">nmax</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.quad.QuadTree.partition" title="Permalink to this definition">¶</a></dt>
<dd><p>This method call decomposes a QuadTree instances into a list of sub- QuadTree instances
which are the smallest possible geospatial “buckets”, given the current splitting rules,
containing at least <code class="docutils literal notranslate"><span class="pre">thresh</span></code> points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>thresh</strong> (<em>int</em>) – The minimum number of points per partition. Care should be taken not to set this
parameter to be too low, as in large datasets a small cluster of highly adjacent
points may result in a number of sub-recursive splits possibly in excess of Python’s
global recursion limit.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>partitions</strong> – A list of sub- QuadTree instances which are the smallest possible geospatial
“buckets”, given the current splitting rules, containing at least <code class="docutils literal notranslate"><span class="pre">thresh</span></code> points.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of QuadTree object instances</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="geoplot.quad.QuadTree.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.quad.QuadTree.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits the current QuadTree instance four ways through the midpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>A list of four “sub” QuadTree instances, corresponding with the first, second, third, and</em></p></li>
<li><p><em>fourth quartiles, respectively.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="geoplot.quad.flatten">
<code class="sig-prename descclassname">geoplot.quad.</code><code class="sig-name descname">flatten</code><span class="sig-paren">(</span><em class="sig-param">items</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.quad.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield items from any nested iterable. Used by <code class="docutils literal notranslate"><span class="pre">QuadTree.flatten</span></code> to one-dimensionalize a
list of sublists. cf.
<a class="reference external" href="http://stackoverflow.com/questions/952914/making-a-flat-list-out-of-list-of-lists-in-python">http://stackoverflow.com/questions/952914/making-a-flat-list-out-of-list-of-lists-in-python</a></p>
</dd></dl>

<dl class="function">
<dt id="geoplot.quad.subpartition">
<code class="sig-prename descclassname">geoplot.quad.</code><code class="sig-name descname">subpartition</code><span class="sig-paren">(</span><em class="sig-param">quadtree</em>, <em class="sig-param">nmin</em>, <em class="sig-param">nmax</em><span class="sig-paren">)</span><a class="headerlink" href="#geoplot.quad.subpartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursive core of the <code class="docutils literal notranslate"><span class="pre">QuadTree.partition</span></code> method. Just five lines of code, amazingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quadtree</strong> (<em>QuadTree object instance</em>) – The QuadTree object instance being partitioned.</p></li>
<li><p><strong>nmin</strong> (<em>int</em>) – The splitting threshold. If this is not met this method will return a listing containing
the root tree alone.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A (probably nested) list of QuadTree object instances containing a number of points respecting</em></p></li>
<li><p><em>the threshold parameter.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-geoplot">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-geoplot" title="Permalink to this headline">¶</a></h2>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016-2019, Aleksey Bilogur.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>